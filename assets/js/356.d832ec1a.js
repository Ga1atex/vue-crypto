(function(){const e="f22a136a4626481601277a8e9da7a231469f3e5062a0b042e5c5b4ddee364dab",t=new WebSocket(`wss://streamer.cryptocompare.com/v2?api_key=${e}`),a=new Map,s=e=>{const a=JSON.stringify(e);t.readyState!==WebSocket.OPEN?t.addEventListener("open",(()=>{t.send(a)}),{once:!0}):t.send(a)};self.addEventListener("connect",(e=>{const n=e.ports[0];function d(){n.postMessage({type:"WSState",state:t.readyState})}t.addEventListener("open",d),t.addEventListener("close",d),t.addEventListener("message",(e=>{const t={data:JSON.parse(e.data),type:"message"};t.data.from?a.get(e.data.from).postMessage(t):n.postMessage(t)})),n.addEventListener("message",(e=>{a.set(e.data.from,n),s(e.data.data)}),!1),n.start(),d()}),!1)})();